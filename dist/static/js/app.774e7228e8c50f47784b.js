webpackJsonp([4],{21:function(t,e,n){n(53);var i=n(8)(n(69),n(49),null,null);t.exports=i.exports},25:function(t,e,n){"use strict";var i=n(4),o=n(64);i.a.use(o.a),e.a=new o.a({mode:"hash",routes:[{path:"/",component:function(t){n.e(1).then(function(){var e=[n(74)];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/lucky",component:function(t){n.e(2).then(function(){var e=[n(75)];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/myinfo",component:function(t){n.e(0).then(function(){var e=[n(76)];t.apply(null,e)}.bind(this)).catch(n.oe)}}]})},26:function(t,e,n){"use strict";var i=n(4),o=n(11),a=n(67),s=n(66);i.a.use(o.b),e.a=new o.b.Store({state:a.a,mutations:s.a})},47:function(t,e,n){n(54);var i=n(8)(n(68),n(50),null,null);t.exports=i.exports},49:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("loading",{model:{value:t.isLoading,callback:function(e){t.isLoading=e},expression:"isLoading"}}),t._v(" "),n("router-view")],1)},staticRenderFns:[]}},50:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"vux-mask"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"weui-loading_toast"},[n("div",{staticClass:"weui-mask_transparent"}),t._v(" "),n("div",{staticClass:"weui-toast",style:{position:t.position}},[n("i",{staticClass:"weui-loading weui-icon_toast"}),t._v(" "),n("p",{staticClass:"weui-toast__content"},[t._v(t._s(t.text||"加载中")),t._t("default")],2)])])])},staticRenderFns:[]}},53:function(t,e){},54:function(t,e){},65:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(4),o=n(22),a=n.n(o),s=n(21),r=n.n(s),u=n(23),c=n(26),d=n(25),h=n(27);i.a.use(u.a),i.a.use(h.a);var p=n(24);i.a.use(p,{name:"v-touch"}),d.a.beforeEach(function(t,e,n){c.a.commit("updateLoadingStatus",{isLoading:!0}),n()}),d.a.afterEach(function(t){c.a.commit("updateLoadingStatus",{isLoading:!1})}),a.a.attach(document.body),i.a.config.productionTip=!1,new i.a({router:d.a,store:c.a,render:function(t){return t(r.a)}}).$mount("#app")},66:function(t,e,n){"use strict";var i={updateLoadingStatus:function(t,e){t.isLoading=e.isLoading},hideArrow:function(t,e){t.showArrow=e},setUserinfo:function(t,e){t.userInfo=e},muteSound:function(t,e){t.mute=e},closeMusicByUser:function(t,e){t.closeMusic=e}};e.a=i},67:function(t,e,n){"use strict";var i={isLoading:!1,showArrow:!0,userInfo:{},cdnUrl:"http://cbpc540.applinzi.com/index.php",mute:!1,closeMusic:!1};e.a=i},68:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{value:{type:Boolean,default:!1},text:String,position:String},created:function(){this.show=this.value},data:function(){return{show:!1}},watch:{value:function(t){this.show=t},show:function(t){this.$emit("input",t)}}}},69:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(36),o=n.n(i),a=n(43),s=n.n(a),r=n(32),u=n.n(r),c=n(47),d=n.n(c),h=n(70),p=n.n(h),l=n(11);e.default={name:"app",components:{Loading:d.a},data:function(){return{code:"",apiId:"wx0d9af88bd9613e6a"}},computed:u()({},n.i(l.a)(["isLoading","cdnUrl"]),{userInfo:{get:function(){return this.$store.state.userInfo},set:function(t){this.$store.commit("setUserinfo",t)}},url:function(){return window.location.href.split("#")[0]},redirectUrl:function(){return"https://open.weixin.qq.com/connect/oauth2/authorize?appid="+this.apiId+"&redirect_uri="+encodeURIComponent(this.url)+"&response_type=code&scope=snsapi_userinfo&state=1#wechat_redirect"},shareUrl:function(){return window.location.href.split("#")[0].split("?")[0]}}),methods:{wxPermissionInit:function(){var t={s:"/addon/Api/Api/getSignature",url:this.url};return this.$http.jsonp(this.cdnUrl,{params:t}).then(function(t){return t.data})},wxReady:function(t){this.$wechat.config({debug:!1,appId:t.appId,timestamp:t.timestamp,nonceStr:t.nonceStr,signature:t.signature,jsApiList:["onMenuShareAppMessage","onMenuShareTimeline","onMenuShareQQ","onMenuShareWeibo","onMenuShareQZone","hideMenuItems"]})},initWxShare:function(){var t=this;this.$wechat.ready(function(){var e={title:"品质成钞两岁啦！有奖留言快来参加！",desc:"群里就差你了！",link:t.shareUrl,imgUrl:"http://cbpm.sinaapp.com/cdn/static/img/logo.jpg",type:"",dataUrl:"",success:function(){},cancel:function(){}};t.$wechat.onMenuShareAppMessage(e),t.$wechat.onMenuShareTimeline(e),t.$wechat.onMenuShareQQ(e),t.$wechat.onMenuShareWeibo(e),t.$wechat.onMenuShareQZone(e),t.$wechat.hideMenuItems({menuList:["menuItem:editTag","menuItem:delete","menuItem:copyUrl","menuItem:originPage","menuItem:readMode","menuItem:openWithQQBrowser","menuItem:openWithSafari","menuItem:share:email"]})})},getWXUserInfo:function(){var t=void 0,e=localStorage.wx_userinfo;if(void 0!==e)return t=JSON.parse(e),void(this.userInfo=t);this.getWXInfo()},getWXInfo:function(){var t=this,e={s:"/addon/Api/Api/getUserInfo",code:this.code};this.$http.jsonp(this.cdnUrl,{params:e}).then(function(e){t.userInfo=e.data,s()(e.data,"nickname")&&localStorage.setItem("wx_userinfo",o()(e.data))})},wxInit:function(){var t=this;this.needRedirect()||this.getWXUserInfo(),this.wxPermissionInit().then(function(e){t.wxReady(e),t.initWxShare(),t.recordReadNum()})},needRedirect:function(){var t=p.a.parse(window.location.href.split("?")[1]);return s()(t,"code")?(this.code=t.code,console.log(this.redirectUrl),!1):(window.location.href=this.redirectUrl,!0)},recordReadNum:function(){var t=window.location.href.split("?")[0],e={s:"/addon/Api/Api/recordReadNum",url:t};this.$http.jsonp(this.cdnUrl,{params:e}).then(function(t){console.log(t.data)})}},created:function(){this.wxInit()}}},71:function(t,e){}},[65]);